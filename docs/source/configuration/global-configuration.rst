====================
Global configuration
====================

Powercalc provides some configuration which can be applied on a global level. This means any of this configuration option applies to all sensors created with powercalc.
Any configuration you do on a per sensor basis will override the global setting for that sensor.

You can add these options to `configuration.yaml` under the ``powercalc:`` property, like so:

.. code-block:: yaml

    powercalc:
      force_update_frequency: 00:01:00 #Each minute
      power_sensor_naming: "{} Powersensor"
      create_energy_sensors: false

All the possible options are listed below.

+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                          | Type     | Requirement  | Default                 | Description                                                                                                                                                                                                                           |
+===============================+==========+==============+=========================+=======================================================================================================================================================================================================================================+
| create_domain_groups          | list     | **Optional** |                         | Create grouped power sensor aggregating all powercalc sensors of given domains, see :doc:`/group`                                                                                                                                     |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_energy_sensors         | boolean  | **Optional** | true                    | Let the component automatically create energy sensors (kWh) for every power sensor                                                                                                                                                    |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| create_utility_meters         | boolean  | **Optional** | false                   | Set to `true` to automatically create utility meters of your energy sensors. See :doc:`/utility-meter`                                                                                                                                |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| disable_extended_attributes   | boolean  | **Optional** | false                   | Set to `true` to disable all extra attributes powercalc adds to the power, energy and group entity states. This will help keep the database size small especially when you have a lot of powercalc sensors and frequent update ratio  |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| enable_autodiscovery          | boolean  | **Optional** | true                    | Whether you want powercalc to automatically setup power sensors for `supported models`_ in your HA instance.                                                                                                                          |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_sensor_naming          | string   | **Optional** | {} energy               | Change the name of the sensors. Use the `{}` placeholder for the entity name of your appliance. This will also change the entity_id of your sensor                                                                                    |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_sensor_friendly_naming | string   | **Optional** |                         | Change the friendly name of the sensors, Use `{}` placehorder for the original entity name.                                                                                                                                           |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_sensor_category        | string   | **Optional** |                         | Category for the created energy sensors. See `HA docs <https://developers.home-assistant.io/docs/core/entity/#generic-properties>`_.                                                                                                  |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_integration_method     | string   | **Optional** | trapezoid               | Integration method for the energy sensor. See `HA docs <https://www.home-assistant.io/integrations/integration/#method>`_                                                                                                             |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_sensor_precision       | numeric  | **Optional** | 4                       | Number of decimals you want for the energy sensors. See `HA docs <https://www.home-assistant.io/integrations/integration/#round>`_                                                                                                    |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| energy_sensor_unit_prefix     | string   | **Optional** |                         | Unit prefix for the energy sensor. See `HA docs <https://www.home-assistant.io/integrations/integration/#unit_prefix>`_. Set to ``none`` for to create a Wh sensor                                                                    |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| force_update_frequency        | string   | **Optional** | 00:10:00                | Interval at which the sensor state is updated, even when the power value stays the same. Format HH:MM:SS                                                                                                                              |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ignore_unavailable_state      | boolean  | **Optional** | false                   | Set to `true` when you want the power sensor to display a value (0 or ``standby_power``) regardless of whether the source entity is available.                                                                                        |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| power_sensor_naming           | string   | **Optional** | {} power                | Change the name of the sensors. Use the `{}` placeholder for the entity name of your appliance. This will also change the entity_id of your sensor                                                                                    |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| power_sensor_friendly_naming  | string   | **Optional** |                         | Change the friendly name of the sensors, Use `{}` placehorder for the original entity name.                                                                                                                                           |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| power_sensor_category         | string   | **Optional** |                         | Category for the created power sensors. See `HA docs <https://developers.home-assistant.io/docs/core/entity/#generic-properties>`_.                                                                                                   |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| utility_meter_types           | list     | **Optional** | daily, weekly, monthly  | Define which cycles you want to create utility meters for. See `HA docs <https://www.home-assistant.io/integrations/utility_meter/#cycle>`_                                                                                           |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| utility_meter_tariffs         | list     | **Optional** |                         | Define different tariffs. See `HA docs <https://www.home-assistant.io/integrations/utility_meter/#tariffs>`_.                                                                                                                         |
+-------------------------------+----------+--------------+-------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
